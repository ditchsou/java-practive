import java.io.*;

import java.util.Arrays;

public class arrayrank {
	





    public static void main(String[] args) throws IOException, ClassNotFoundException {

        ByteArrayOutputStream buffer = new ByteArrayOutputStream();

        try (ObjectOutputStream output = new ObjectOutputStream(buffer)) {

            // 写入int:

            output.writeInt(12345);

            output.writeInt(62);

            // 写入String:

            output.writeUTF("Hello");

            output.writeUTF("World");

            // 写入Object:

            output.writeObject(Double.valueOf(123.456));

        }

        System.out.println(Arrays.toString(buffer.toByteArray()));

        ByteArrayInputStream bufferin = new ByteArrayInputStream(buffer.toByteArray());

        try(ObjectInputStream in = new ObjectInputStream(bufferin))

        {
        	 int n = in.readInt();
            int n1 = in.readInt();

           
            String s = in.readUTF();
           

            String s2 = in.readUTF();

            Double d = (Double)(in.readObject());

            System.out.println(n);

            System.out.println(n1);

            System.out.println(s);

            System.out.println(s2);

            System.out.println(d);
            /*反序列化必须按照序列化的顺序一个个解析，
            否则 Exception in thread "main" java.io.EOFException
            */

        }

    }

}



